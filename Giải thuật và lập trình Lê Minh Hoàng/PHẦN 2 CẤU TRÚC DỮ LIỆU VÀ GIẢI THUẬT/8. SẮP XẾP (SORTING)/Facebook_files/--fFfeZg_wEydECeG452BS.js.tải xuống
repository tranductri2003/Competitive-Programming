if (self.CavalryLogger) { CavalryLogger.start_js(["T37q3xj"]); }

__d("useMaybeNUX_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMaybeNUX_nux",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometUsersEntityScopedTypeaheadDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4122624657824558",metadata:{},name:"CometUsersEntityScopedTypeaheadDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMaybeNUX",["CometRelay","emptyFunction","react","useMaybeNUX_nux.graphql","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useEffect;function a(a){var e=d("CometRelay").useRelayEnvironment();a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMaybeNUX_nux.graphql"),a);var f=a==null?void 0:a.id,g=a==null?void 0:a.nux_id,k=c("useNUX")(g,Boolean(a==null?void 0:a.should_show)),l=k[0],m=k[1],n=l&&(a==null?void 0:a.should_show)===!0&&g!=null;k=i(function(){m==null?void 0:m.onDismiss();if(f==null)return;d("CometRelay").commitLocalUpdate(e,function(a){a=a.get(f);a==null?void 0:a.setValue(!1,"should_show")})},[m,f,e]);j(function(){g!=null&&n&&(m==null?void 0:m.onVisible())},[g,n,m]);return a!=null?[n,k]:[null,c("emptyFunction")]}g["default"]=a}),98);
__d("XCometProfileVanityCommunityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/community/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometProfileVanityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/",Object.freeze({show_switched_toast:!1,show_switched_tooltip:!1,show_podcast_settings:!1}),void 0);b=a;g["default"]=b}),98);
__d("XCometProfileVanityTributesControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/tributes/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometVanityTabControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/{sk}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometVanityTimelineControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/timeline/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometVanityWoodhengeSupportersURLControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/supporters/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ProfileCometURIUtils",["ProfileCometContext","XCometProfileControllerRouteBuilder","XCometProfileVanityCommunityControllerRouteBuilder","XCometProfileVanityControllerRouteBuilder","XCometProfileVanityTributesControllerRouteBuilder","XCometVanityTabControllerRouteBuilder","XCometVanityTimelineControllerRouteBuilder","XCometVanityWoodhengeSupportersURLControllerRouteBuilder","react","unrecoverableViolation","useCurrentRouteEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){var b=h(c("ProfileCometContext"));b=b.profileID;var d=c("useCurrentRouteEntityKey")();b=d!=null&&d.entity_type==="profile"&&d.entity_id===b&&d.section===a;return b}function b(){var a=h(c("ProfileCometContext")),b=a.profileID;a=a.profileVanity;if(a!=null&&a!=="")return c("XCometProfileVanityControllerRouteBuilder").buildURL({vanity:a});if(b!=null)return c("XCometProfileControllerRouteBuilder").buildURL({id:b});throw new(c("unrecoverableViolation"))("Cannot generate URI for profile when id and vanity are both null","profile_comet")}function e(a){var b=h(c("ProfileCometContext")),d=b.profileID;b=b.profileVanity;if(b!=null&&b!==""){if(a==="timeline")return c("XCometVanityTimelineControllerRouteBuilder").buildURL({vanity:b});if(a==="tributes")return c("XCometProfileVanityTributesControllerRouteBuilder").buildURL({vanity:b});if(a==="supporters")return c("XCometVanityWoodhengeSupportersURLControllerRouteBuilder").buildURL({vanity:b});return a==="community"?c("XCometProfileVanityCommunityControllerRouteBuilder").buildURL({vanity:b}):c("XCometVanityTabControllerRouteBuilder").buildURL({sk:a,vanity:b})}if(d!=null)return c("XCometProfileControllerRouteBuilder").buildURL({id:d,sk:a});throw new(c("unrecoverableViolation"))("Cannot generate URI for profile section when id and vanity are both null","profile_comet")}g.useIsProfileSectionActive=a;g.useURIForProfile=b;g.useURIForProfileSection=e}),98);
__d("CometUsersEntityScopedTypeaheadDialog.entrypoint",["CometUsersEntityScopedTypeaheadDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.entityID;return{queries:{CometUsersEntityScopedTypeaheadDialogQueryRef:{parameters:b("CometUsersEntityScopedTypeaheadDialogQuery$Parameters"),variables:{entityID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUsersEntityScopedTypeaheadDialog.react").__setRef("CometUsersEntityScopedTypeaheadDialog.entrypoint")};g["default"]=a}),98);
__d("CometComposerMediaAttachmentArea_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerMediaAttachmentArea_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometComposerMediaAttachmentArea.react",["CometComposerMediaAttachmentArea_profile.graphql","CometRelay","ComposerCometMediaAttachmentCollage.react","ComposerCometSelectedPhotoLayoutContext","MediaEditorViewStateContext","composerMediaAttachmentReducer","cr:1864053","gkx","killswitch","makeMediaAttachmentReadyForPreview","react","requireDeferred","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useEffect,l=e.useMemo;c("requireDeferred")("mediaAttachmentAreaTransform").__setRef("CometComposerMediaAttachmentArea.react").onReadyImmediately(function(){});function a(a){var e,f=a.disableVideo;f=f===void 0?!1:f;var g=a.isEditingPreExistingStory,m=g===void 0?!1:g;g=a.isMediaBeingEdited;var n=a.mediaAttachments,o=a.mediaUploadLoggingMetadata,p=a.profile$key,q=a.selectedPhotoLayout,r=a.videoLiteComposerEligible;a=a.width;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var s=c("useComposerViewStateDispatcher")(),t=b("cr:1864053")();p=d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerMediaAttachmentArea_profile.graphql"),p);e=(e=p==null?void 0:p.has_professional_features_for_watch)!=null?e:!1;p=(p==null?void 0:p.page_id)!==void 0;e=c("gkx")("1584413")&&!m&&e||c("gkx")("1915661")&&m&&(e||p);var u=j(c("MediaEditorViewStateContext"));p=l(function(){return babelHelpers["extends"]({},u,{isEditingPreExistingStory:m})},[u,m]);k(function(){if(c("killswitch")("WWW_COMPOSER_MEDIA_ATTACHMENT_AREA_REMOVAL_ACTION_DISPATCH"))return function(){s({type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}},[s]);var v=l(function(){return{layout:q}},[q]);return n!=null?i.jsx(c("MediaEditorViewStateContext").Provider,{value:p,children:i.jsx(c("ComposerCometSelectedPhotoLayoutContext").Provider,{value:v,children:i.jsx(c("ComposerCometMediaAttachmentCollage.react"),{disableVideoUploads:f,inComposer:!0,isMediaBeingEdited:g,mediaAttachments:n.map(function(a){switch(a.state){case"PREEXISTING":return a;default:return a.file&&a.fileType!=="UNKNOWN"?a:null}}).filter(Boolean).map(c("makeMediaAttachmentReadyForPreview")),mediaUploadLoggingMetadata:o,selectedPhotoLayout:q,videoLiteComposerEligible:(p=r)!=null?p:e,width:(v=a)!=null?v:t==null?void 0:t.composerWidth})})}):null}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{isEditingPreExistingStory:a.isEditingPreExistingStory,mediaAttachments:a.mediaAttachments,selectedPhotoLayout:a.photoLayout}});g["default"]=e}),98);